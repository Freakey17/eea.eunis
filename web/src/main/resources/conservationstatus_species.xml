<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">
<properties>
  <comment>Conservation status queries for species</comment>
<!-- -->
<!-- The list of queries in this file. Separated by whitespace. -->
<!-- -->
  <entry key="queries">conservationstatus conservationstatusBio conservationstatusCountry</entry>
<!-- -->
<!-- .endpoint, .title and .query are mandatory for all queries -->
<!-- .summary - use HTML format - i.e. escape & and < -->
<!-- -->

 <entry key="conservationstatus.endpoint">http://semantic.eea.europa.eu/sparql</entry>
  <entry key="conservationstatus.title">Conservation status (National and International)</entry>
  <entry key="conservationstatus.summary"><![CDATA[Various Red List sources]]></entry>
  <entry key="conservationstatus.query"><![CDATA[
PREFIX b: <http://eunis.eea.europa.eu/rdf/schema.rdf#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX dcterms: <http://purl.org/dc/terms/>

SELECT ?country ?status ?source ?published
FROM <http://rdfdata.eionet.europa.eu/eunis/conservationstatus.rdf.gz>
FROM <http://rdfdata.eionet.europa.eu/eea/biogeographic-regions.rdf>
FROM <http://eunis.eea.europa.eu/rdf/countries.rdf.gz>
FROM <http://eunis.eea.europa.eu/rdf/references.rdf.gz>
WHERE {
 ?subject b:forSpecies <http://eunis.eea.europa.eu/species/[IDENTIFIER]>;
          a b:SpeciesConservationStatus;
          dcterms:source ?usource.
 ?subject  b:forCountry ?ucountry.
OPTIONAL { ?ucountry rdfs:label ?country}
OPTIONAL { ?usource dcterms:title ?source;
           dcterms:created ?published }
 ?subject b:hasStatus ?hasStatus .
 ?hasStatus rdfs:label ?status.
} ORDER BY ?country  DESC(?published)
]]></entry>

  <entry key="conservationstatus.codes"><![CDATA[
PREFIX b: <http://eunis.eea.europa.eu/rdf/schema.rdf#>
PREFIX eunis: <http://eunis.eea.europa.eu/rdf/species-schema.rdf#>

SELECT DISTINCT ?speciescode
FROM <http://rdfdata.eionet.europa.eu/eunis/conservationstatus.rdf.gz>
FROM <http://eunis.eea.europa.eu/rdf/species.rdf.gz>
WHERE {
 ?subject b:forSpecies ?speciesurl;
          a b:SpeciesConservationStatus;
          b:forCountry ?ucountry.
 ?subject b:hasStatus ?hasStatus .
 ?speciesurl eunis:speciesCode ?speciescode
}
]]></entry>


  <entry key="conservationstatusBio.endpoint">http://cr.eionet.europa.eu/sparql</entry>
  <entry key="conservationstatusBio.title">Biogeographical assessment of the conservation status of the species</entry>
<!-- .summary - use HTML format - i.e. escape & and < -->
  <entry key="conservationstatusBio.summary"><![CDATA[Biogeographical assessments on the conservation status of the habitat types
   and species of Community interest have been carried out in EU 25 for the period 2001-2006,
   compiled as part of the Habitats Directive - Article 17 reporting process.
   The data summary sheet for species conservation status provides an overview per biogeographical region.]]></entry>
  <entry key="conservationstatusBio.query"><![CDATA[
PREFIX art17: <http://rdfdata.eionet.europa.eu/art17report2008/ontology/>
PREFIX o: <http://rdfdata.eionet.europa.eu/article17/ontology/>
PREFIX e: <http://rdfdata.eionet.europa.eu/eea/ontology/>

SELECT ?region ?conclusion
WHERE {
  ?subj a art17:Speciessummary ;
        art17:forSpecies <http://eunis.eea.europa.eu/species/[IDENTIFIER]>;
        art17:forCountry _:countryUrl;
        art17:forRegion _:regionUrl .
 _:regionUrl e:name ?region .
 _:countryUrl e:name ?country.
OPTIONAL {?subj art17:population_minimum_size ?minimum_size}
OPTIONAL {?subj art17:population_maximum_size ?maximum_size}
OPTIONAL {?subj art17:population_size_unit ?unit}
OPTIONAL {?subj art17:percentage_population_mean_size ?percentage_mean_size}
OPTIONAL {?subj art17:conclusion_population _:conclusion_populationUrl .
         _:conclusion_populationUrl o:name ?conclusion }
OPTIONAL {?subj art17:population_trend ?trend}
OPTIONAL {?subj art17:population_yearly_magnitude ?yearly_magnitude}
OPTIONAL {?subj art17:complementary_favourable_population_q ?complementary_favourable_population_q}
OPTIONAL {?subj art17:complementary_favourable_population ?complementary_favourable_population}
OPTIONAL {?subj art17:population_quality ?quality}
} ORDER BY ?country ?region
]]></entry>

  <entry key="conservationstatusBio.codes"><![CDATA[
PREFIX art17: <http://rdfdata.eionet.europa.eu/art17report2008/ontology/>
PREFIX o: <http://rdfdata.eionet.europa.eu/article17/ontology/>
PREFIX e: <http://eunis.eea.europa.eu/rdf/species-schema.rdf#>

SELECT DISTINCT ?speciescode
WHERE {
  ?subj a art17:Speciessummary ;
        art17:forSpecies ?speciesurl.
 ?speciesurl e:speciesCode ?speciescode
}
]]></entry>

  <entry key="conservationstatusCountry.endpoint">http://cr.eionet.europa.eu/sparql</entry>
  <entry key="conservationstatusCountry.title">Country-level assessment of the conservation status of the species</entry>
<!-- .summary - use HTML format - i.e. escape & and < -->
  <entry key="conservationstatusCountry.summary"><![CDATA[Country-level assessments on the conservation status of the habitat types
   and species of Community interest have been carried out in EU 25 for the period 2001-2006,
   compiled as part of the Habitats Directive - Article 17 reporting process.
   The data summary sheet for species conservation status provides an overview per biogeographical region.]]></entry>
  <entry key="conservationstatusCountry.query"><![CDATA[
PREFIX art17: <http://rdfdata.eionet.europa.eu/art17report2008/ontology/>
PREFIX o: <http://rdfdata.eionet.europa.eu/article17/ontology/>
PREFIX e: <http://rdfdata.eionet.europa.eu/eea/ontology/>

SELECT ?country ?region ?conclusion
WHERE {
  ?subj a art17:Speciessummary ;
        art17:forSpecies <http://eunis.eea.europa.eu/species/[IDENTIFIER]>;
        art17:forCountry _:countryUrl;
        art17:forRegion _:regionUrl .
 _:regionUrl e:name ?region .
 _:countryUrl e:name ?country.
OPTIONAL {?subj art17:population_minimum_size ?minimum_size}
OPTIONAL {?subj art17:population_maximum_size ?maximum_size}
OPTIONAL {?subj art17:population_size_unit ?unit}
OPTIONAL {?subj art17:percentage_population_mean_size ?percentage_mean_size}
OPTIONAL {?subj art17:conclusion_population _:conclusion_populationUrl .
         _:conclusion_populationUrl o:name ?conclusion }
OPTIONAL {?subj art17:population_trend ?trend}
OPTIONAL {?subj art17:population_yearly_magnitude ?yearly_magnitude}
OPTIONAL {?subj art17:complementary_favourable_population_q ?complementary_favourable_population_q}
OPTIONAL {?subj art17:complementary_favourable_population ?complementary_favourable_population}
OPTIONAL {?subj art17:population_quality ?quality}
} ORDER BY ?country ?region
]]></entry>

  <entry key="conservationstatusCountry.codes"><![CDATA[
PREFIX art17: <http://rdfdata.eionet.europa.eu/art17report2008/ontology/>
PREFIX o: <http://rdfdata.eionet.europa.eu/article17/ontology/>
PREFIX e: <http://eunis.eea.europa.eu/rdf/species-schema.rdf#>

SELECT DISTINCT ?speciescode
WHERE {
  ?subj a art17:Speciessummary ;
        art17:forSpecies ?speciesurl.
 ?speciesurl e:speciesCode ?speciescode
}
]]></entry>

</properties>
